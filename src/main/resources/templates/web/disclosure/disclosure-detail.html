<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ê³µì‹œìë£Œ ìƒì„¸ë³´ê¸° - A+Life</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #f5f7fa;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .header {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        color: white;
        padding: 20px 0;
        margin-bottom: 30px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .breadcrumb {
        font-size: 14px;
        opacity: 0.9;
      }

      .breadcrumb a {
        color: white;
        text-decoration: none;
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      h1 {
        font-size: 28px;
        margin-top: 10px;
      }

      .btn {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        background: white;
        color: #e74c3c;
        font-weight: bold;
        transition: all 0.3s;
      }

      .btn:hover {
        opacity: 0.9;
      }

      .btn-primary {
        background: #27ae60;
        color: white;
        margin-left: 10px;
      }

      .btn-secondary {
        background: #95a5a6;
        color: white;
      }

      .content-section {
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .detail-table {
        width: 100%;
        border-collapse: collapse;
      }

      .detail-table th {
        background: #f8f9fa;
        padding: 20px;
        text-align: left;
        font-weight: 600;
        color: #2c3e50;
        border: 1px solid #dee2e6;
        width: 200px;
      }

      .detail-table td {
        padding: 20px;
        border: 1px solid #dee2e6;
        background: white;
      }

      .file-info {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .file-name {
        color: #2c3e50;
        font-weight: 500;
      }

      .file-size {
        color: #7f8c8d;
        font-size: 12px;
      }

      .download-btn {
        background: #3498db;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 8px 15px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.3s;
      }

      .download-btn:hover {
        background: #2980b9;
      }

      .no-file {
        color: #7f8c8d;
        font-style: italic;
      }

      .action-buttons {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-top: 30px;
      }

      .admin-actions {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 30px;
        text-align: center;
      }

      .admin-actions h3 {
        color: #2c3e50;
        margin-bottom: 15px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 0 15px;
        }

        .content-section {
          padding: 20px;
        }

        .detail-table th,
        .detail-table td {
          padding: 15px;
        }

        .header-content {
          flex-direction: column;
          align-items: flex-start;
          gap: 15px;
        }

        .action-buttons {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <!-- í—¤ë” -->
    <div class="header">
      <div class="container">
        <div class="header-content">
          <div>
            <div class="breadcrumb">
              <a href="/">í™ˆ</a> > <a href="/disclosure">ê³ ê°ì„¼í„°</a> >
              ê³µì‹œìë£Œì‹¤
            </div>
            <h1>â€»ê³µì‹œìë£Œì‹¤</h1>
          </div>
          <div>
            <a href="/disclosure" class="btn">â† ëª©ë¡</a>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ê´€ë¦¬ì ì•¡ì…˜ (ê´€ë¦¬ì ë¡œê·¸ì¸ ì‹œì—ë§Œ í‘œì‹œ) -->
      <div th:if="${isAdmin}" class="admin-actions">
        <h3>ğŸ”§ ê´€ë¦¬ì ë©”ë‰´</h3>
        <a
          th:href="@{/admin/announcements/edit/{id}(id=${announcement.idx})}"
          class="btn btn-primary"
          >ìˆ˜ì •</a
        >
        <a
          th:href="@{/admin/announcements/delete/{id}(id=${announcement.idx})}"
          class="btn btn-secondary"
          onclick="return confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');"
          >ì‚­ì œ</a
        >
      </div>

      <!-- ê³µì‹œìë£Œ ìƒì„¸ ì •ë³´ -->
      <div class="content-section">
        <table class="detail-table">
          <tr>
            <th>ìƒí’ˆëª…</th>
            <td th:text="${announcement.title}">2025ë…„ ë°˜ê¸°ë³´ê³ ì„œ</td>
          </tr>
          <tr>
            <th>PDF ì²¨ë¶€íŒŒì¼</th>
            <td>
              <div
                th:if="${announcement.filePath != null && announcement.filePath != ''}"
                class="file-info"
              >
                <span class="file-name" th:text="${announcement.fileName}"
                  >[ì—ì´í”ŒëŸ¬ìŠ¤ë¼ì´í”„]ë°˜ê¸°ë³´ê³ ì„œ(2025,08,14).pdf</span
                >
                <span class="file-size">(2.5MB)</span>
                <button
                  class="download-btn"
                  th:onclick="'downloadFile(\'' + ${announcement.filePath} + '\')'"
                >
                  ë‹¤ìš´ë¡œë“œ
                </button>
              </div>
              <div
                th:if="${announcement.filePath == null || announcement.filePath == ''}"
                class="no-file"
              >
                ì²¨ë¶€ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.
              </div>
            </td>
          </tr>
          <tr>
            <th>MS WORD ì²¨ë¶€íŒŒì¼</th>
            <td>
              <div
                th:if="${announcement.wordFilePath != null && announcement.wordFilePath != ''}"
                class="file-info"
              >
                <span class="file-name" th:text="${announcement.wordFileName}"
                  >[ì—ì´í”ŒëŸ¬ìŠ¤ë¼ì´í”„]ë°˜ê¸°ë³´ê³ ì„œ(2025,08,14).docx</span
                >
                <span class="file-size">(1.8MB)</span>
                <button
                  class="download-btn"
                  th:onclick="'downloadFile(\'' + ${announcement.wordFilePath} + '\')'"
                >
                  ë‹¤ìš´ë¡œë“œ
                </button>
              </div>
              <div
                th:if="${announcement.wordFilePath == null || announcement.wordFilePath == ''}"
                class="no-file"
              >
                ì²¨ë¶€ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.
              </div>
            </td>
          </tr>
          <tr>
            <th>í•œê¸€ë¬¸ì„œ ì²¨ë¶€íŒŒì¼</th>
            <td>
              <div
                th:if="${announcement.hwpFilePath != null && announcement.hwpFilePath != ''}"
                class="file-info"
              >
                <span class="file-name" th:text="${announcement.hwpFileName}"
                  >[ì—ì´í”ŒëŸ¬ìŠ¤ë¼ì´í”„]ë°˜ê¸°ë³´ê³ ì„œ(2025,08,14).hwp</span
                >
                <span class="file-size">(1.2MB)</span>
                <button
                  class="download-btn"
                  th:onclick="'downloadFile(\'' + ${announcement.hwpFilePath} + '\')'"
                >
                  ë‹¤ìš´ë¡œë“œ
                </button>
              </div>
              <div
                th:if="${announcement.hwpFilePath == null || announcement.hwpFilePath == ''}"
                class="no-file"
              >
                ì²¨ë¶€ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.
              </div>
            </td>
          </tr>
          <tr>
            <th>ë“±ë¡ì¼</th>
            <td
              th:text="${#temporals.format(announcement.rDate, 'yyyy-MM-dd HH:mm')}"
            >
              2025-08-14 14:20
            </td>
          </tr>
          <tr>
            <th>ìˆ˜ì •ì¼</th>
            <td
              th:text="${#temporals.format(announcement.uDate, 'yyyy-MM-dd HH:mm')}"
            >
              2025-08-14 14:20
            </td>
          </tr>
        </table>

        <div class="action-buttons">
          <a href="/disclosure" class="btn btn-secondary">ëª©ë¡</a>
          <a
            th:if="${isAdmin}"
            th:href="@{/admin/announcements/edit/{id}(id=${announcement.idx})}"
            class="btn btn-primary"
            >ìˆ˜ì •</a
          >
        </div>
      </div>
    </div>

    <script>
      // íŒŒì¼ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
      function downloadFile(filePath) {
        if (filePath) {
          window.open("/download/" + encodeURIComponent(filePath), "_blank");
        } else {
          alert("íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
      }
    </script>
  </body>
</html>
