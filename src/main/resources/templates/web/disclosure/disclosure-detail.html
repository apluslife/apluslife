<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>공시자료 상세보기 - A+Life</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #f5f7fa;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .header {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        color: white;
        padding: 20px 0;
        margin-bottom: 30px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .breadcrumb {
        font-size: 14px;
        opacity: 0.9;
      }

      .breadcrumb a {
        color: white;
        text-decoration: none;
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      h1 {
        font-size: 28px;
        margin-top: 10px;
      }

      .btn {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        background: white;
        color: #e74c3c;
        font-weight: bold;
        transition: all 0.3s;
      }

      .btn:hover {
        opacity: 0.9;
      }

      .btn-primary {
        background: #27ae60;
        color: white;
        margin-left: 10px;
      }

      .btn-secondary {
        background: #95a5a6;
        color: white;
      }

      .content-section {
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .detail-table {
        width: 100%;
        border-collapse: collapse;
      }

      .detail-table th {
        background: #f8f9fa;
        padding: 20px;
        text-align: left;
        font-weight: 600;
        color: #2c3e50;
        border: 1px solid #dee2e6;
        width: 200px;
      }

      .detail-table td {
        padding: 20px;
        border: 1px solid #dee2e6;
        background: white;
      }

      .file-info {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .file-name {
        color: #2c3e50;
        font-weight: 500;
      }

      .file-size {
        color: #7f8c8d;
        font-size: 12px;
      }

      .download-btn {
        background: #3498db;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 8px 15px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.3s;
      }

      .download-btn:hover {
        background: #2980b9;
      }

      .no-file {
        color: #7f8c8d;
        font-style: italic;
      }

      .action-buttons {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-top: 30px;
      }

      .admin-actions {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 30px;
        text-align: center;
      }

      .admin-actions h3 {
        color: #2c3e50;
        margin-bottom: 15px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 0 15px;
        }

        .content-section {
          padding: 20px;
        }

        .detail-table th,
        .detail-table td {
          padding: 15px;
        }

        .header-content {
          flex-direction: column;
          align-items: flex-start;
          gap: 15px;
        }

        .action-buttons {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <!-- 헤더 -->
    <div class="header">
      <div class="container">
        <div class="header-content">
          <div>
            <div class="breadcrumb">
              <a href="/">홈</a> > <a href="/disclosure">고객센터</a> >
              공시자료실
            </div>
            <h1>※공시자료실</h1>
          </div>
          <div>
            <a href="/disclosure" class="btn">← 목록</a>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- 관리자 액션 (관리자 로그인 시에만 표시) -->
      <div th:if="${isAdmin}" class="admin-actions">
        <h3>🔧 관리자 메뉴</h3>
        <a
          th:href="@{/admin/announcements/edit/{id}(id=${announcement.idx})}"
          class="btn btn-primary"
          >수정</a
        >
        <a
          th:href="@{/admin/announcements/delete/{id}(id=${announcement.idx})}"
          class="btn btn-secondary"
          onclick="return confirm('삭제하시겠습니까?');"
          >삭제</a
        >
      </div>

      <!-- 공시자료 상세 정보 -->
      <div class="content-section">
        <table class="detail-table">
          <tr>
            <th>상품명</th>
            <td th:text="${announcement.title}">2025년 반기보고서</td>
          </tr>
          <tr>
            <th>PDF 첨부파일</th>
            <td>
              <div
                th:if="${announcement.filePath != null && announcement.filePath != ''}"
                class="file-info"
              >
                <span class="file-name" th:text="${announcement.fileName}"
                  >[에이플러스라이프]반기보고서(2025,08,14).pdf</span
                >
                <span class="file-size">(2.5MB)</span>
                <button
                  class="download-btn"
                  th:onclick="'downloadFile(\'' + ${announcement.filePath} + '\')'"
                >
                  다운로드
                </button>
              </div>
              <div
                th:if="${announcement.filePath == null || announcement.filePath == ''}"
                class="no-file"
              >
                첨부 파일이 없습니다.
              </div>
            </td>
          </tr>
          <tr>
            <th>MS WORD 첨부파일</th>
            <td>
              <div
                th:if="${announcement.wordFilePath != null && announcement.wordFilePath != ''}"
                class="file-info"
              >
                <span class="file-name" th:text="${announcement.wordFileName}"
                  >[에이플러스라이프]반기보고서(2025,08,14).docx</span
                >
                <span class="file-size">(1.8MB)</span>
                <button
                  class="download-btn"
                  th:onclick="'downloadFile(\'' + ${announcement.wordFilePath} + '\')'"
                >
                  다운로드
                </button>
              </div>
              <div
                th:if="${announcement.wordFilePath == null || announcement.wordFilePath == ''}"
                class="no-file"
              >
                첨부 파일이 없습니다.
              </div>
            </td>
          </tr>
          <tr>
            <th>한글문서 첨부파일</th>
            <td>
              <div
                th:if="${announcement.hwpFilePath != null && announcement.hwpFilePath != ''}"
                class="file-info"
              >
                <span class="file-name" th:text="${announcement.hwpFileName}"
                  >[에이플러스라이프]반기보고서(2025,08,14).hwp</span
                >
                <span class="file-size">(1.2MB)</span>
                <button
                  class="download-btn"
                  th:onclick="'downloadFile(\'' + ${announcement.hwpFilePath} + '\')'"
                >
                  다운로드
                </button>
              </div>
              <div
                th:if="${announcement.hwpFilePath == null || announcement.hwpFilePath == ''}"
                class="no-file"
              >
                첨부 파일이 없습니다.
              </div>
            </td>
          </tr>
          <tr>
            <th>등록일</th>
            <td
              th:text="${#temporals.format(announcement.rDate, 'yyyy-MM-dd HH:mm')}"
            >
              2025-08-14 14:20
            </td>
          </tr>
          <tr>
            <th>수정일</th>
            <td
              th:text="${#temporals.format(announcement.uDate, 'yyyy-MM-dd HH:mm')}"
            >
              2025-08-14 14:20
            </td>
          </tr>
        </table>

        <div class="action-buttons">
          <a href="/disclosure" class="btn btn-secondary">목록</a>
          <a
            th:if="${isAdmin}"
            th:href="@{/admin/announcements/edit/{id}(id=${announcement.idx})}"
            class="btn btn-primary"
            >수정</a
          >
        </div>
      </div>
    </div>

    <script>
      // 파일 다운로드 기능
      function downloadFile(filePath) {
        if (filePath) {
          window.open("/download/" + encodeURIComponent(filePath), "_blank");
        } else {
          alert("파일을 찾을 수 없습니다.");
        }
      }
    </script>
  </body>
</html>
